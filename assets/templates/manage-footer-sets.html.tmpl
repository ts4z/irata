<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Manage Footer Plug Sets</title>
    <link rel="stylesheet" href="/style/{{ .Theme }}/css">
</head>
<body>
    {{ template "user-bar" . }}
    <div class="container">
        <div class="admin-bar">
            <a href="/">&lt; Back to Home</a>
            <a href="/create/footer-set">Create New Footer Plug Set</a>
        </div>

        <h1>Manage Footer Plug Sets</h1>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Version</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{ range .FooterSets }}
                <tr>
                    <td>{{ .Name }}</td>
                    <td>{{ .Version }}</td>
                    <td>
                        <a href="/manage/footer-set/{{ .FooterPlugsID }}/edit" class="no-underline" title="Edit">‚úé</a>
                        <a href="/create/footer-set?template={{ .FooterPlugsID }}" class="no-underline" title="Copy">üìã</a>
                        <a href="#" class="no-underline" style="color:#f88;" title="Delete" onclick="showDeleteModal({{-  .FooterPlugsID -}})">‚ùå</a>
                    </td>
                </tr>
                {{ else }}
                <tr><td colspan="3">No footer plug sets found.</td></tr>
                {{ end }}
            </tbody>
        </table>
    </div>

    <!-- Delete Confirmation Modal -->
        <div id="deleteModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.7); z-index:1000;">
            <div style="background:#222; color:#fff; padding:2em; border-radius:8px; max-width:400px; margin:10vh auto; position:relative;">
                <h2>Delete Footer Plug Set</h2>
                <p id="deleteModalText"></p>
                <form id="deleteForm" method="POST" action="">
                    <button type="submit" style="background:#f88; color:#fff; border:none; padding:0.5em 1em; border-radius:4px;">Confirm Delete</button>
                    <button type="button" onclick="hideDeleteModal()" style="margin-left:1em;">Cancel</button>
                </form>
            </div>
        </div>
        <script>
            function showDeleteModal(id) {
                document.getElementById('deleteModalText').textContent = `Are you sure you want to delete the set ${id}?`;
                document.getElementById('deleteForm').action = `/manage/footer-set/${id}/delete`;
                document.getElementById('deleteModal').style.display = 'block';
            }
            function hideDeleteModal() {
                document.getElementById('deleteModal').style.display = 'none';
            }
        </script>
</body>
</html>
